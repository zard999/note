<!--
 * @Author:
 * @Date: 2021-11-08 16:29:19
 * @LastEditTime: 2021-11-08 18:11:45
 * @LastEditors: Please set LastEditors
 * @Description: 移动端基础
 * @FilePath: \note\移动端\移动端.md
-->

#### 适配方案

1. 百分比与固定高度布局方案
   - 设置屏幕为理想视口，然后通过水平百分比布局或者弹性布局
   - 垂直方向一般用固定像素。
   - 文字大小可以选用媒体查询来设置
   - 可以选择的布局方案有：1.横向百分比 + 纵向高度固定。2.弹性盒子+高度固定布局
2. rem 适配方案 1:
   - 让 html 的 font-size 为一个值
   - calc()计算
   - 一般都是用 less 计算：.rem(@type,@num){@{type}: @num/640 \* 1rem}
3. rem 适配方法 2:
   - 样式固定设置 html 的 font-size 为 100px
   - 然后样式所有的大小全部按照设计图计算，比如 640 的设计图，6.4rem 就是全屏
   - 但是手机的大小和 640 有差异，所以根据比例计算 html 的 font-size 的值
4. viewport 适配:
   - 开发的时候根据设计稿完全还原像素，然后根据屏幕的宽度通过 js 动态改变页面的缩放，恰好时理想视口的大小
   - 原理核心就是修改页面 mate 标签的缩放
   - 通过设置 initial-scale，将所有设备视口的宽度调整为设计图的宽度

#### 移动端一般用的事件

1. touchstart：手指触摸屏幕时触发，即使已经有手指在屏幕上也会触发
2. touchmove：手指在屏幕滑动时触发
3. touchend：手指从屏幕时移开时触发

#### 阻止默认事件

不写第三个参数的 passive

- 为提高性能，chrome56 之后， window，document， body 触屏事件默认无法取消默认事件， 需要给 addEventListener() 指定第三个参数 passive:false DOM0 级事件不可以使用
- 隐患解决：如果说针对某一个标签 想要能够滑动，能够选中文字，只需要让它阻止传播即可(e.stopPropagation())

#### 事件点透

- 遮罩层元素的下一面有一个链接元素。遮罩层绑定 touchstart 事件, 被触发后希望遮罩层消失，真实的状况是这时候点击遮罩层不见的同时会跳转页面
- 穿透的原因：超链接元素具有 click 特性。touchstart 会先于 click 事件执行，当上述的这个遮罩层消失后， 300ms 之后他底下的具有点击特性的元素会被触发
